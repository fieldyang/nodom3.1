<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>field</title>

		<style>
			.cls1 {
				color: red;
			}
			.cls2 {
				font-size: 20pt;
			}
		</style>
	</head>
	<body>
		<div></div>
	</body>
	<script type='module'>
		import{nodom,Module,Util} from '../dist/nodom.js'

		class Module1 extends Module{
			template(){
				return `
				<div>
					<button e-click="change">change</button>
					<button e-click="change1">change1</button>
					<button e-click="watch">watch</button>
					<div>
						<div>姓名:{{name}}</div>
						<div>出生日期:{{formatDate(birth)}}</div>
						<div>性别:{{sexy}}</div>
						<div>已婚:{{married}}</div>
						<div>学历:{{edu}}</div>
					</div>
					<div>
						<div>姓名：<input x-field="name" /></div>
						<div>
							出生日期：<input type="date" x-field="birth" value="{{formatDate(birth)}}" />
						</div>
						<div>
							性别：<input type="radio" x-field="sexy" value="M" />男
							<input x-field="sexy" type="radio" value="F" />女
						</div>
						<div>已婚：<input type="checkbox" x-field="married" yes-value="1" no-value="0" />是</div>
						
						<div>
							学历：<select x-field="edu">
								<option x-repeat={{edus}} value="{{eduId}}">{{eduName}}</option>
							</select>
						</div>
					</div>
				</div>
				`
			}	
			data = {
				// name:'yanglei',
				// sexy:'M',
				// married:1,
				// edu:3,
				name: 'nodom',
				sexy: 'F',
				married: undefined,
				edu: 2,
				birth: 1616472327000,
				edus: [
					{ eduId: 1, eduName: "高中" },
					{ eduId: 2, eduName: "本科" },
					{ eduId: 3, eduName: "硕士研究生" },
					{ eduId: 4, eduName: "博士研究生" },
				],
			}
			methods = {
				watchSexy: function (oldValue, value) {
					console.log(this, oldValue, value);
				},
				watch: function (dom, model, module, e) {
					model.$watch("sexy", "watchSexy");
				},
				change: function (dom, module, e) {
					this.married = 0;
					this.sexy = "F";
					this.edu = 3;
					this.name = "aaaa";
				},
				change1: function (dom, module, e) {
					this.name = "yanglei123";
				},
				onFirstRender: function () {
					console.log("dddd");
					// console.log($.FilterManager.exec(this,'date','1616472327001',':yyyy-MM-dd HH:mm:ss'));
				},
				onRender: function () {
					console.log("d1");
				},

				formatDate(d){
					return Util.formatDate(d,'yyyy-MM-dd');
				},

				formatTime(d){
					return Util.formatDate(d,'yyyy-MM-dd HH:mm:ss.S')
				}
				
			}
		}
		nodom(Module1,'div');

	</script>
</html>
